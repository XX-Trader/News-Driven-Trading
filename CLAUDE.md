> # News-Driven Trading Bot - æžç®€ MVP ç‰ˆ
>
> **ç‰ˆæœ¬**: 2.3.1
> **æ—¥æœŸ**: 2025-11-23 15:48 (UTC+8)
> **çŠ¶æ€**: âœ… ç¨³å®šè¿è¡Œ (Stable)
> 
> ---
> 
> ## ä¸€ã€æžç®€å®£è¨€ (The Minimalist Manifesto)
> 
> > "Perfection is achieved, not when there is nothing more to add, but when there is nothing left to take away." - Antoine de Saint-ExupÃ©ry
> 
> æœ¬é¡¹ç›®éµå¾ª **æžç®€ MVP (Minimum Viable Product)** åŽŸåˆ™ã€‚æˆ‘ä»¬æ‹’ç»è¿‡åº¦è®¾è®¡ï¼Œæ‹’ç»ä¸ºäº†æŠ€æœ¯è€ŒæŠ€æœ¯ã€‚
> æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æž„å»ºä¸€ä¸ª **ç®€å•ã€ç¨³å®šã€å¯ç»´æŠ¤** çš„æ–°é—»é©±åŠ¨äº¤æ˜“ç³»ç»Ÿã€‚
> 
> **æ ¸å¿ƒåŽŸåˆ™ï¼š**
> 1.  **No Database**: ä¸ä½¿ç”¨ MySQL/Redis/MongoDBï¼Œä»…ä½¿ç”¨æœ¬åœ° JSON æ–‡ä»¶ã€‚
> 2.  **No Complex Monitoring**: ä¸æžå¤æ‚çš„ Prometheus/Grafanaï¼Œä»…ä¿ç•™å…³é”®æ—¥å¿—ã€‚
> 3.  **No Over-Engineering**: ä¸æžå¾®æœåŠ¡ã€ä¸æžå¤æ‚æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå•è¿›ç¨‹å•çº¿ç¨‹å¼‚æ­¥æ¨¡åž‹è¶³çŸ£ã€‚
> 
> ---
> 
> ## äºŒã€MVP åŠŸèƒ½è¾¹ç•Œ
> 
> ### âœ… æ ¸å¿ƒåŠŸèƒ½ (Must Have)
> 1.  **æŽ¨æ–‡èŽ·å–**:
>     *   æ”¯æŒ Twitter API (v2) å’Œæœ¬åœ° JSON æ¨¡æ‹Ÿã€‚
>     *   **å†…å­˜åŽ»é‡**: ä½¿ç”¨ Python `set` åœ¨å†…å­˜ä¸­å¿«é€ŸåŽ»é‡ (O(1))ã€‚
>     *   **æŒä¹…åŒ–**: å…³é”®æ•°æ®å®žæ—¶å†™å…¥ `tweet_records.json`ï¼Œé˜²æ­¢é‡å¯ä¸¢å¤±ã€‚
> 
> 2.  **AI åˆ†æž**:
>     *   **å•æ¨¡åž‹**: ä½¿ç”¨å•ä¸€é«˜æ€§èƒ½ LLM (å¦‚ Gemini/Claude) è¿›è¡Œæƒ…æ„Ÿåˆ†æžå’Œäº¤æ˜“å†³ç­–ã€‚
>     *   **ç»“æž„åŒ–è¾“å‡º**: å¼ºåˆ¶ JSON æ ¼å¼è¾“å‡ºï¼ŒåŒ…å«ï¼šäº¤æ˜“æ–¹å‘ã€å¸ç§ã€ç½®ä¿¡åº¦ã€ç†ç”±ã€‚
> 
> 3.  **ä¿¡å·è¿‡æ»¤** (v2.3.0 æ–°å¢ž):
>     *   **é»‘åå•è¿‡æ»¤**: åŸºäºŽå¸ç§ä»£ç ï¼ˆå¦‚ BTCã€ETHï¼‰è¿‡æ»¤ï¼Œæ£€æŸ¥æ˜¯å¦åœ¨ `symbol_blacklist` ä¸­ã€‚
>     *   **ç½®ä¿¡åº¦è¿‡æ»¤**: AI è¿”å›žçš„ç½®ä¿¡åº¦ >= `min_confidence` (é»˜è®¤ 30) æ‰é€šè¿‡ã€‚
>     *   **è¿‡æ»¤ç»“æžœæŒä¹…åŒ–**: æ‰€æœ‰è¿‡æ»¤ç»“æžœï¼ˆé€šè¿‡/æ‹’ç»åŠåŽŸå› ï¼‰è®°å½•åœ¨ `TweetProcessingRecord` ä¸­ï¼Œä¾¿äºŽåŽç»­åˆ†æžã€‚
> 
> 4.  **äº¤æ˜“æ‰§è¡Œ**:
>     *   **åŸºç¡€è®¢å•**: æ”¯æŒå¸‚ä»·å• (Market) å’Œé™ä»·å• (Limit)ã€‚
>     *   **é£Žé™©ç®¡ç†**:
>         *   **åˆ†æ‰¹æ­¢ç›ˆ**: åˆ°è¾¾ç›®æ ‡ä»·åˆ†æ‰¹å–å‡º (å¦‚ +5% å–ä¸€åŠ)ã€‚
>         *   **å›ºå®šæ­¢æŸ**: è·Œç ´é˜ˆå€¼ (å¦‚ -2%) ç«‹å³å¸‚ä»·å…¨å¹³ã€‚
> 
> 5.  **æ•°æ®å¯¼å‡º** (v2.3.0 æ–°å¢ž):
>     *   **CSV å¯¼å‡º**: æ”¯æŒå°†æŽ¨æ–‡å¤„ç†è®°å½•å¯¼å‡ºä¸º CSV æ–‡ä»¶ã€‚
>     *   **å®Œæ•´å­—æ®µ**: åŒ…å«æŽ¨æ–‡æ—¶é—´ã€å†…å®¹ã€å‘é€è€…ã€AI å¤„ç†æƒ…å†µã€è¿‡æ»¤æƒ…å†µã€ä¸‹å•è¯¦æƒ…ã€ç›ˆäºç­‰ 11 ä¸ªå­—æ®µã€‚
>     *   **ä½¿ç”¨æ–¹æ³•**: è°ƒç”¨ `TweetRecordManager.export_to_csv(output_path)` å³å¯å¯¼å‡ºã€‚
> 
> ### â³ å¾…å®šåŠŸèƒ½ (Pending / Future)
> *   **è¿½è¸ªæ­¢æŸ (Trailing Stop)**: ç§»åŠ¨æ­¢æŸé€»è¾‘ (v3.0 è€ƒè™‘)ã€‚
> *   **å¤šæ¨¡åž‹è·¯ç”± (Multi-Model)**: å¤šä¸ª LLM æŠ•ç¥¨æœºåˆ¶ (v3.0 è€ƒè™‘)ã€‚
> 
> ### âŒ æ˜Žç¡®ç§»é™¤ (Out of Scope)
> *   å¤æ‚ç›‘æŽ§å‘Šè­¦ç³»ç»Ÿ
> *   æ•°æ®åº“å­˜å‚¨ (SQL/NoSQL)
> *   ç³»ç»ŸçŠ¶æ€æœºä¸Žç†”æ–­æœºåˆ¶
> *   ä»£ç çƒ­æ›´æ–°
> *   å¤šç»´åº¦ç»¼åˆè¯„ä¼°æ¨¡åž‹
> 
> ---
> 
> ## ä¸‰ã€æžç®€æž¶æž„
> 
> ### 3.1 æ•°æ®æµ
> ```
> [Twitter Source] --> [Memory Set (Dedupe)] --> [AI Analyzer] --> [Signal Filter] --> [Trade Executor]
>                                                   |              |                  |
>                                                   v              v                  v
>                                             [tweet_records.json (Local Persistence)]
> ```
> 
> **æž¶æž„è¯´æ˜Ž**:
> - **Signal Filter**: åœ¨ AI åˆ†æžä¹‹åŽã€äº¤æ˜“æ‰§è¡Œä¹‹å‰è¿›è¡Œä¿¡å·è¿‡æ»¤ï¼ŒåŸºäºŽé»‘åå•å’Œç½®ä¿¡åº¦é˜ˆå€¼ã€‚
> - **TweetRecordManager**: ç»Ÿä¸€ç®¡ç†æŽ¨æ–‡ç”Ÿå‘½å‘¨æœŸè®°å½•ï¼Œæ”¯æŒå®žæ—¶æŒä¹…åŒ–å’Œ CSV å¯¼å‡ºã€‚
> 
> ### 3.2 å­˜å‚¨è®¾è®¡
> *   **å†…å­˜ (Memory)**:
>     *   `processed_ids`: `Set[str]`ï¼Œå­˜å‚¨å·²å¤„ç†æŽ¨æ–‡ IDï¼Œç”¨äºŽå¿«é€ŸåŽ»é‡ã€‚
>     *   `active_trades`: `Dict`ï¼Œå­˜å‚¨å½“å‰æŒä»“ä¿¡æ¯ã€‚
> *   **ç£ç›˜ (Disk)**:
>     *   `tweet_records.json`: æ ¸å¿ƒæ•°æ®æ–‡ä»¶ï¼Œå­˜å‚¨æŽ¨æ–‡å¤„ç†å…¨ç”Ÿå‘½å‘¨æœŸè®°å½•ã€‚
>     *   `logs/`: æ–‡æœ¬æ—¥å¿—æ–‡ä»¶ï¼Œç”¨äºŽæŽ’æŸ¥é—®é¢˜ã€‚
> 
> ---
> 
> ## å››ã€å¿«é€Ÿå¼€å§‹
> 
> ### 4.1 çŽ¯å¢ƒè¦æ±‚
> *   Python 3.10+
> *   ä¾èµ–åº“: `aiohttp`, `python-binance`, `openai` (æˆ–ç›¸åº” LLM SDK)
> 
> ### 4.2 å®‰è£…ä¸Žè¿è¡Œ
> ```bash
> # 1. å®‰è£…ä¾èµ–
> pip install -r requirements.txt
> 
> # 2. é…ç½®çŽ¯å¢ƒå˜é‡ (.env)
> # API_KEY=...
> # API_SECRET=...
> 
> # 3. è¿è¡Œ
> python main.py
> ```
> 
> ### 4.3 æ•°æ®å¯¼å‡º
> ```python
> # åœ¨ä»£ç ä¸­è°ƒç”¨ä»¥ä¸‹æ–¹æ³•å¯¼å‡º CSV
> from trading_bot.tweet_record_manager import TweetRecordManager
> 
> record_manager = TweetRecordManager()
> csv_path = record_manager.export_to_csv()  # å¯¼å‡ºåˆ°é»˜è®¤è·¯å¾„
> print(f"CSV exported to: {csv_path}")
> ```
> 
> ---
> 
> ## äº”ã€ç‰ˆæœ¬åŽ†å²
> 
> | ç‰ˆæœ¬ | æ—¥æœŸ | ç±»åž‹ | è¯´æ˜Ž |
> | :--- | :--- | :--- | :--- |
> | **v2.3.1** | 2025-11-23 | ðŸ”§ é›†æˆ | **ç³»ç»Ÿé›†æˆä¸Žæ¸…ç†**: TweetRecordManager å…¨çŠ¶æ€æŒä¹…åŒ–ï¼ŒSignalFilter é›†æˆä¼˜åŒ–ï¼Œä»£ç æ¸…ç†ã€‚ |
> | v2.3.0 | 2025-11-23 | âœ¨ æ–°å¢ž | **ä¿¡å·è¿‡æ»¤å™¨ä¸Žæ•°æ®å¯¼å‡º**: å®žçŽ°åŸºäºŽé»‘åå•å’Œç½®ä¿¡åº¦çš„ä¿¡å·è¿‡æ»¤ï¼Œæ”¯æŒ CSV æ•°æ®å¯¼å‡ºåŠŸèƒ½ã€‚ |
> | v2.2.0 | 2025-11-23 | â™»ï¸ é‡æž„ | **æžç®€ MVP é‡æž„**ï¼šç§»é™¤æ•°æ®åº“/ç›‘æŽ§ç­‰è¿‡åº¦è®¾è®¡ï¼Œç¡®ç«‹æœ¬åœ° JSON + å†…å­˜æž¶æž„ã€‚ |
> | v2.1.0 | 2025-11-22 | ðŸ› ä¿®å¤ | ä¿®å¤è®¢å•è®¡ç®—ã€å†…å­˜æ³„æ¼ã€SSL éªŒè¯ç­‰å…³é”® Bugã€‚ |
> | v2.0.0 | 2025-11-22 | âœ¨ å‡çº§ | å¼•å…¥ TweetRecordManagerï¼Œå®žçŽ°æŽ¨æ–‡å…¨ç”Ÿå‘½å‘¨æœŸè¿½è¸ªã€‚ |
> | v1.0.0 | 2025-11-17 | ðŸŽ‰ åˆå§‹ | åŸºç¡€æŽ¨æ–‡èŽ·å–ä¸Žå¤„ç†åŠŸèƒ½ã€‚ |
> 
> ---
> 
> ## å…­ã€å…³é”®é…ç½®
> 
> ### 6.1 ä¿¡å·è¿‡æ»¤é…ç½® (config.py)
> ```python
> # æœ€ä½Žç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆAIè¿”å›žçš„ç½®ä¿¡åº¦ >= æ­¤å€¼æ‰é€šè¿‡ï¼‰
> min_confidence: float = 30.0
> 
> # é»‘åå•å¸ç§ï¼ˆæ£€æŸ¥symbolæ˜¯å¦åŒ…å«è¿™äº›å¸ç§ï¼‰
> symbol_blacklist: List[str] = ["DOGE", "SHIB", "PEPE", "FLOKI"]
> ```
> 
> ### 6.2 CSV å¯¼å‡ºå­—æ®µ
> å¯¼å‡º CSV åŒ…å«ä»¥ä¸‹ 11 ä¸ªå­—æ®µï¼š
> 1. æŽ¨æ–‡æ—¶é—´
> 2. å†…å®¹
> 3. å‘é€è€…
> 4. AIå¤„ç†æƒ…å†µï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰
> 5. è¿‡æ»¤æƒ…å†µï¼ˆé€šè¿‡/æ‹’ç»åŽŸå› ï¼‰
> 6. äº¤æ˜“å¯¹
> 7. ä¹°å–æ–¹å‘
> 8. æ•°é‡
> 9. ä¹°å…¥ä»·
> 10. å¹³ä»“ä»·
> 11. ç›ˆåˆ©(U)
> 
> ---
> 
> ## ä¸ƒã€æ³¨æ„äº‹é¡¹
> 
> ### 7.1 ä¿¡å·è¿‡æ»¤å™¨
> - **é»‘åå•æ£€æŸ¥**: ä»…æ£€æŸ¥å¸ç§ä»£ç ï¼ˆå¦‚ "BTC"ï¼‰ï¼Œä¸æ£€æŸ¥äº¤æ˜“å¯¹å…¨ç§°ï¼ˆå¦‚ "BTCUSDT"ï¼‰ã€‚
> - **å¸ç§æå–**: è‡ªåŠ¨ä»Žäº¤æ˜“å¯¹ä¸­æå–åŸºç¡€å¸ç§ï¼ˆå¦‚ "BTCUSDT" â†’ "BTC"ï¼‰ã€‚
> - **å¤§å°å†™ä¸æ•æ„Ÿ**: é»‘åå•åŒ¹é…æ—¶å¿½ç•¥å¤§å°å†™ã€‚
> 
> ### 7.2 æ•°æ®å¯¼å‡º
> - **é»˜è®¤è·¯å¾„**: `æŽ¨ç‰¹æŠ¢è·‘/twitter_media/tweet_records_export.csv`
> - **ç¼–ç æ ¼å¼**: UTF-8 with BOMï¼ˆæ”¯æŒ Excel ç›´æŽ¥æ‰“å¼€ï¼‰
> - **æŽ’åºæ–¹å¼**: æŒ‰æŽ¨æ–‡æ—¶é—´å€’åºï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
> 
> ---
> 
> ## å…«ã€æœªæ¥æ”¹è¿›æ–¹å‘
> 
> ### 8.1 ä¿¡å·è¿‡æ»¤å¢žå¼º
> - [ ] æ”¯æŒç™½åå•æœºåˆ¶ï¼ˆä»…äº¤æ˜“æŒ‡å®šå¸ç§ï¼‰
> - [ ] æ”¯æŒåŸºäºŽæŽ¨æ–‡å‘é€è€…çš„æƒé‡è¿‡æ»¤
> - [ ] æ”¯æŒåŸºäºŽåŽ†å²èƒœçŽ‡çš„åŠ¨æ€ç½®ä¿¡åº¦è°ƒæ•´
> 
> ### 8.2 æ•°æ®å¯¼å‡ºå¢žå¼º
> - [ ] æ”¯æŒå¯¼å‡ºä¸º Excel æ ¼å¼ï¼ˆ.xlsxï¼‰
> - [ ] æ”¯æŒè‡ªå®šä¹‰å¯¼å‡ºå­—æ®µ
> - [ ] æ”¯æŒæŒ‰æ—¶é—´èŒƒå›´ç­›é€‰å¯¼å‡º
> 
> ---
> 
> **æœ€åŽæ›´æ–°**: 2025-11-23 14:00 (UTC+8)
> 
